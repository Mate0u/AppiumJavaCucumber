describe('Exchange tests', () => {
	it('Open page and login', () => {
		browser.url('http://zero.webappsecurity.com/index.html')
		const signInButton = browser.$('#signin_button')
		signInButton.waitForExist()
		signInButton.click()
		const usernameInputField = browser.$('#user_login')
		usernameInputField.waitForExist()
		usernameInputField.setValue('username')
		const passwordInputField = browser.$('#user_password')
		passwordInputField.waitForExist()
		passwordInputField.setValue('password')
		const loginButton = browser.$('input[type=submit]')
		loginButton.waitForExist()
		loginButton.click()
		const tabToCheck = browser.$('#online_statements_tab')
		tabToCheck.waitForExist()
	})
	it('Exchange value', () => {
		const payBillsButton = browser.$('#pay_bills_tab')
		payBillsButton.waitForExist()
		payBillsButton.click()
		const purchaseCurrencysButton = browser.$(
			'#tabs > ul > li:nth-child(3) > a'
		)
		purchaseCurrencysButton.waitForExist()
		purchaseCurrencysButton.click()
		const selectboxcurrency = browser.$('#pc_currency')
		selectboxcurrency.waitForExist()
		// selectboxcurrency.selectByVisibleText('Switzerland (franc)')
        selectboxcurrency.selectByAttribute('value', 'CHF')
		const amountField = browser.$('#pc_amount')
		amountField.waitForExist()
		amountField.setValue('1000')
		const dolarRadioButton = browser.$('#pc_inDollars_true')
		dolarRadioButton.waitForExist()
		dolarRadioButton.click()
		const purchaseButton = browser.$('#purchase_cash')
		purchaseButton.waitForExist()
		purchaseButton.click()
	})
	it('Check if search resilt page is shown', () => {
		const alertExchange = browser.$('#alert_content')
		alertExchange.waitForExist()
		expect(alertExchange).toHaveText(
			'Foreign currency cash was successfully purchased.'
		)
	})
})
